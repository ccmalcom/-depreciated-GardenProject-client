{"version":3,"file":"index.m.js","sources":["../src/index.tsx"],"sourcesContent":["import React from \"react\";\n\nfunction useStatefulRef<T>(initialVal = null) {\n  // eslint-disable-next-line prefer-const\n  let [cur, setCur] = React.useState<T | null>(initialVal);\n\n  const { current: ref } = React.useRef({\n    current: cur,\n  });\n\n  Object.defineProperty(ref, \"current\", {\n    get: () => cur as T,\n    set: (value: T) => {\n      if (!Object.is(cur, value)) {\n        cur = value;\n        setCur(value);\n      }\n    },\n  });\n\n  return ref as React.MutableRefObject<T>;\n}\n\nexport default useStatefulRef;\n"],"names":["useStatefulRef","initialVal","React","useState","cur","setCur","ref","useRef","current","Object","defineProperty","get","set","value","is"],"mappings":"qBAEA,SAASA,EAAkBC,YAAAA,IAAAA,EAAa,MAEtC,MAAoBC,EAAMC,SAAmBF,GAAxCG,OAAKC,OAEOC,EAAQJ,EAAMK,OAAO,CACpCC,QAASJ,IADHI,QAcR,OAVAC,OAAOC,eAAeJ,EAAK,UAAW,CACpCK,IAAK,kBAAMP,GACXQ,IAAK,SAACC,GACCJ,OAAOK,GAAGV,EAAKS,KAClBT,EAAMS,EACNR,EAAOQ,OAKNP"}