{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["import React from \"react\";\n\nfunction useStatefulRef<T>(initialVal = null) {\n  // eslint-disable-next-line prefer-const\n  let [cur, setCur] = React.useState<T | null>(initialVal);\n\n  const { current: ref } = React.useRef({\n    current: cur,\n  });\n\n  Object.defineProperty(ref, \"current\", {\n    get: () => cur as T,\n    set: (value: T) => {\n      if (!Object.is(cur, value)) {\n        cur = value;\n        setCur(value);\n      }\n    },\n  });\n\n  return ref as React.MutableRefObject<T>;\n}\n\nexport default useStatefulRef;\n"],"names":["useStatefulRef","initialVal","cur","setCur","React","useState","current","ref","useRef","Object","defineProperty","get","set","value","is"],"mappings":"qBAEA,SAASA,EAAkBC,EAAa,MAEtC,IAAKC,EAAKC,GAAUC,EAAMC,SAAmBJ,GAE7C,MAAQK,QAASC,GAAQH,EAAMI,OAAO,CACpCF,QAASJ,IAaX,OAVAO,OAAOC,eAAeH,EAAK,UAAW,CACpCI,IAAK,IAAMT,EACXU,IAAMC,IACCJ,OAAOK,GAAGZ,EAAKW,KAClBX,EAAMW,EACNV,EAAOU,OAKNN"}